@using SistemaGestorDePacientes.Core.Application.ViewModel.CitasViewModel;
@model SistemaGestorDePacientes.Core.Application.ViewModel.CitasViewModel.CitasPostViewModel;
@{
    ViewData["Title"] = "Create";
    Layout = "~/Views/Shared/_Layout.cshtml";
    var pacientes = ViewBag.pacientes as List<SistemaGestorDePacientes.Core.Application.ViewModel.PacientesViewModel.PacienteViewModel>;
    var medicos = ViewBag.medicos as List<SistemaGestorDePacientes.Core.Application.ViewModel.MedicoViewModel.MedicoViewModel>;

    bool editMode = Model.Id == 0 ? false : true;


}       


<div class="d-flex align-items-center justify-content-center container mt-4">
    <form method="post" class="w-25 bg-secondary p-3" asp-controller="Citas" asp-action="@(editMode ? "Editar" : "Create")">
        <div class="p-2 bg-light mb-2 ">
            <h1 style="color: white;" class="text-center text-black">Agregar Cita</h1>
        </div> @Html.ValidationSummary(false, "", new { @class = "text-white" })

        <label class="form-check mb-2 text-white text-start p-0 " asp-for="PacienteId">Paciente</label>
        <select asp-for="PacienteId" class="form-control mb-3 p-1">
            <option value="0">--Selecciona un Paciente--</option>
            @foreach (var pacientePost in pacientes)
            {
                <option value="@pacientePost.Id">
                    @pacientePost.Nombre
                </option>
            }
        </select>
        <label class="form-check mb-2 text-white text-start p-0 " asp-for="MedicoId">Medico</label>
        <select asp-for="MedicoId" class="form-control mb-3 p-1">
            <option value="0">--Selecciona un Medico--</option>
            @foreach (var medicoPost in medicos)
            {
                <option value="@medicoPost.Id">
                    @medicoPost.Nombre
                </option>
            }
        </select>
        
        <label class="form-check mb-2 text-white text-start p-0 " asp-for="FechaCita">Fecha de la Cita</label>
        <input asp-for="FechaCita"  class="form-control mb-3 p-1" />

        <label class="form-check mb-2 text-white text-start p-0" asp-for="HoraCita">Hora de la Cita</label>
        <input asp-for="HoraCita" type="time" class="form-control mb-3 p-1" />

        <label class="form-check mb-2 text-white text-start p-0 " asp-for="CausaDeLaCita">Causa de la Cita</label>
        <textarea asp-for="CausaDeLaCita"  class="form-control mb-3 p-1">

        </textarea>

        

        <div class="d-flex  justify-content-end align-items-end" style="gap:10px ;">
            <a asp-controller="Citas" asp-action="Index" class="btn btn-danger  mt-3  font-weight-bold  ">Cancelar</a>
            <button type="submit" class="btn btn-primary font-weight-bold">Crear</button>

            
        </div>
    </form>
</div>


